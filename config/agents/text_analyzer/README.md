# Text Analyzer Agent

æ–‡æœ¬åˆ†æ Agentï¼ŒåŸºäº LLM (Large Language Model) å¯¹æ–‡æœ¬è¿›è¡Œæƒ…æ„Ÿåˆ†æã€å…³é”®è¯æå–å’Œæ‘˜è¦ç”Ÿæˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **æƒ…æ„Ÿåˆ†æ**ï¼šè¯†åˆ«æ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘ï¼ˆç§¯æ/æ¶ˆæ/ä¸­æ€§ï¼‰
- ğŸ”‘ **å…³é”®è¯æå–**ï¼šæå–æ–‡æœ¬ä¸­çš„é‡è¦å…³é”®è¯
- ğŸ“„ **æ‘˜è¦ç”Ÿæˆ**ï¼šç”Ÿæˆç®€æ´çš„æ–‡æœ¬æ‘˜è¦
- ğŸ“ **æ–‡ä»¶æ”¯æŒ**ï¼šæ”¯æŒç›´æ¥è¾“å…¥æ–‡æœ¬æˆ–ä»æ–‡ä»¶è¯»å–

## è¾“å‡ºæ ¼å¼

```json
{
  "sentiment": "positive/negative/neutral",
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2", "å…³é”®è¯3"],
  "summary": "æ–‡æœ¬æ‘˜è¦å†…å®¹"
}
```

## ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# æ— å‚æ•°è¿è¡Œ - ä½¿ç”¨é»˜è®¤ç¤ºä¾‹æ–‡æœ¬
./scripts/text_analyzer.sh

# ç›´æ¥è¾“å…¥æ–‡æœ¬
./scripts/text_analyzer.sh "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…ä¹Ÿå¾ˆæ„‰å¿«ï¼"

# ä»æ–‡ä»¶è¯»å–æ–‡æœ¬
./scripts/text_analyzer.sh text_file.txt

# æŒ‡å®šåˆ†æç±»å‹ï¼ˆå¯é€‰å‚æ•°ï¼Œæš‚æœªå®ç°ï¼‰
./scripts/text_analyzer.sh "æ–‡æœ¬å†…å®¹" "æƒ…æ„Ÿåˆ†æ"
```

**è„šæœ¬ç‰¹æ€§**ï¼š
- âœ… è‡ªåŠ¨è¯†åˆ«æ–‡æœ¬å’Œæ–‡ä»¶è·¯å¾„
- âœ… æ”¯æŒé»˜è®¤ç¤ºä¾‹æ–‡æœ¬ï¼ˆæ— éœ€è¾“å…¥å³å¯æµ‹è¯•ï¼‰
- âœ… å‹å¥½çš„æç¤ºä¿¡æ¯
- âœ… æ˜¾ç¤ºæ–‡æœ¬å†…å®¹é¢„è§ˆ

### æ–¹æ³• 2ï¼šä½¿ç”¨ CLI å‘½ä»¤

```bash
# ç›´æ¥è¾“å…¥æ–‡æœ¬
python src/main.py run text_analyzer \
  -i '{"text": "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…ä¹Ÿå¾ˆæ„‰å¿«ï¼"}'

# ä» JSON æ–‡ä»¶è¯»å–
echo '{"text": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æœ¬"}' > input.json
python src/main.py run text_analyzer -i input.json

# ä» YAML æ–‡ä»¶è¯»å–
python src/main.py run text_analyzer -i example_input.yaml

# æŒ‡å®šè¾“å‡ºæ ¼å¼
python src/main.py run text_analyzer \
  -i '{"text": "æµ‹è¯•æ–‡æœ¬"}' \
  --format yaml \
  -o analysis.yaml
```

## ç¤ºä¾‹

### è¾“å…¥
```
äººå·¥æ™ºèƒ½æŠ€æœ¯æ­£åœ¨æ·±åˆ»æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼ã€‚ä»æ™ºèƒ½æ‰‹æœºçš„è¯­éŸ³åŠ©æ‰‹ï¼Œåˆ°è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼Œ
å†åˆ°åŒ»ç–—è¯Šæ–­ç³»ç»Ÿï¼ŒAI çš„åº”ç”¨å·²ç»æ¸—é€åˆ°å„ä¸ªé¢†åŸŸã€‚è¿™é¡¹æŠ€æœ¯ä¸ä»…æé«˜äº†å·¥ä½œæ•ˆç‡ï¼Œ
ä¹Ÿä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›äº†æ–°çš„æ€è·¯ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å…³æ³¨ AI å‘å±•å¸¦æ¥çš„ä¼¦ç†å’Œå®‰å…¨é—®é¢˜ï¼Œ
ç¡®ä¿æŠ€æœ¯è¿›æ­¥èƒ½å¤ŸçœŸæ­£é€ ç¦äººç±»ç¤¾ä¼šã€‚
```

### è¾“å‡º
```json
{
  "sentiment": "neutral",
  "keywords": ["äººå·¥æ™ºèƒ½", "AI", "æŠ€æœ¯", "ç”Ÿæ´»æ–¹å¼", "å·¥ä½œæ•ˆç‡", "ä¼¦ç†", "å®‰å…¨"],
  "summary": "äººå·¥æ™ºèƒ½æŠ€æœ¯æ­£åœ¨å¹¿æ³›åº”ç”¨äºå„ä¸ªé¢†åŸŸï¼Œæé«˜äº†å·¥ä½œæ•ˆç‡å¹¶ä¸ºè§£å†³å¤æ‚é—®é¢˜æä¾›æ–°æ€è·¯ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦å…³æ³¨å…¶å¸¦æ¥çš„ä¼¦ç†å’Œå®‰å…¨é—®é¢˜ã€‚"
}
```

## é…ç½®è¯´æ˜

### Agent é…ç½®
- **ç±»å‹**ï¼šLLM (Large Language Model)
- **æ¨¡å‹**ï¼šqwenï¼ˆå¯åœ¨ config.yaml ä¸­ä¿®æ”¹ï¼‰
- **è¾“å…¥å­—æ®µ**ï¼š
  - `text`ï¼šè¦åˆ†æçš„æ–‡æœ¬å†…å®¹
- **è¾“å‡ºå­—æ®µ**ï¼š
  - `sentiment`ï¼šæƒ…æ„Ÿå€¾å‘
  - `keywords`ï¼šå…³é”®è¯åˆ—è¡¨
  - `summary`ï¼šæ–‡æœ¬æ‘˜è¦

### æ¨¡å‹è¦æ±‚
- éœ€è¦ä½¿ç”¨æ”¯æŒæ–‡æœ¬ç†è§£çš„ LLM æ¨¡å‹
- ç¡®ä¿ `qwen` æ¨¡å‹åœ¨ config.yaml ä¸­æ­£ç¡®é…ç½®ä¸” `enabled: true`
- è®¾ç½®ç›¸åº”çš„ API Key å’Œ API Base

## å¸¸è§é—®é¢˜

### Q: æ”¯æŒå¤šé•¿çš„æ–‡æœ¬ï¼Ÿ
A: å–å†³äºæ¨¡å‹çš„ `max_tokens` è®¾ç½®ã€‚é»˜è®¤ä¸º 4096 tokensï¼Œçº¦ç­‰äº 3000-4000 ä¸ªä¸­æ–‡å­—ç¬¦ã€‚

### Q: å¦‚ä½•å¤„ç†è¶…é•¿æ–‡æœ¬ï¼Ÿ
A: å¯ä»¥ï¼š
1. åˆ†æ®µå¤„ç†ï¼šå°†é•¿æ–‡æœ¬åˆ†æˆå¤šä¸ªç‰‡æ®µåˆ†åˆ«åˆ†æ
2. å¢åŠ  max_tokensï¼šåœ¨ config.yaml ä¸­è°ƒæ•´æ¨¡å‹çš„ max_tokens å€¼
3. æå–å…³é”®æ®µè½ï¼šå…ˆæå–é‡è¦æ®µè½å†åˆ†æ

### Q: æƒ…æ„Ÿåˆ†æçš„å‡†ç¡®åº¦å¦‚ä½•ï¼Ÿ
A: å‡†ç¡®åº¦å–å†³äºä½¿ç”¨çš„ LLM æ¨¡å‹ã€‚å»ºè®®ä½¿ç”¨è¾ƒå¤§è§„æ¨¡çš„æ¨¡å‹ä»¥è·å¾—æ›´å‡†ç¡®çš„åˆ†æç»“æœã€‚

### Q: æ”¯æŒå…¶ä»–è¯­è¨€å—ï¼Ÿ
A: æ”¯æŒï¼Œä½†åˆ†ææ•ˆæœå–å†³äºæ‰€ä½¿ç”¨çš„ LLM æ¨¡å‹å¯¹è¯¥è¯­è¨€çš„æ”¯æŒç¨‹åº¦ã€‚ä¸­æ–‡å’Œè‹±æ–‡é€šå¸¸æ•ˆæœæœ€å¥½ã€‚

## è¿›é˜¶ç”¨æ³•

### æ‰¹é‡å¤„ç†æ–‡æœ¬æ–‡ä»¶

```bash
#!/bin/bash
for file in texts/*.txt; do
  echo "Processing: $file"
  ./scripts/text_analyzer.sh "$file" > "results/$(basename $file .txt)-analysis.json"
done
```

### ç”Ÿæˆåˆ†ææŠ¥å‘Š

```bash
# ç”Ÿæˆ Markdown æ ¼å¼çš„æŠ¥å‘Š
python src/main.py run text_analyzer \
  -i article.txt \
  --format md \
  -o analysis-report.md
```

### ç»“åˆå…¶ä»–å·¥å…·ä½¿ç”¨

```bash
# 1. åˆ†ææ–‡æœ¬
./scripts/text_analyzer.sh article.txt > analysis.json

# 2. æå–æƒ…æ„Ÿåˆ†æ•°
cat analysis.json | jq -r '.outputs.sentiment'

# 3. æå–å…³é”®è¯åˆ—è¡¨
cat analysis.json | jq -r '.outputs.keywords[]'
```

## ç›¸å…³æ–‡æ¡£

- [ä½¿ç”¨æŒ‡å—](../../docs/usage.md)
- [è®¾è®¡æ–‡æ¡£](../../docs/design.md)
